# Application
ENVIRONMENT=development
LOG_LEVEL=INFO
DEBUG=true

# API Server
API_HOST=0.0.0.0
API_PORT=8000
API_KEY=dev-api-key-12345

# Database - Supabase PostgreSQL
# Project: ragFlow
# Project Ref: bxeyoqsgspfxaxgeckfo
# URL: https://bxeyoqsgspfxaxgeckfo.supabase.co
# Note: Password is URL-encoded (#&QS5uH7CC_f-U! -> %23%26QS5uH7CC_f-U%21)
DATABASE_URL=postgresql+psycopg://postgres:%23%26QS5uH7CC_f-U%21@db.bxeyoqsgspfxaxgeckfo.supabase.co:5432/postgres
SUPABASE_URL=https://bxeyoqsgspfxaxgeckfo.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ4ZXlvcXNnc3BmeGF4Z2Vja2ZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMxMjUxMTksImV4cCI6MjA3ODcwMTExOX0.bZCBqT-zG7CmTvs_Y7wDX0pUjI7W3PjKZthARH43sFE
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10

# RabbitMQ CloudAMQP
# API Key for CloudAMQP management: 9f6a6d0f-20c7-4188-a17a-d6a2677a8bbf
# Instance: duck.lmq.cloudamqp.com
# User/Vhost: cfxctijp
# Using AMQPS (TLS) on port 5671
RABBITMQ_URL=amqps://cfxctijp:QSkl7_O1A50WgFmAwvM6SyKS7mke_SB6@duck.lmq.cloudamqp.com/cfxctijp
RABBITMQ_API_KEY=9f6a6d0f-20c7-4188-a17a-d6a2677a8bbf
RABBITMQ_PREFETCH_COUNT=5
RABBITMQ_CONNECTION_ATTEMPTS=3
RABBITMQ_RETRY_DELAY=5

# Qdrant Vector Database
# Using Qdrant Cloud instead of Docker
# For local Docker: http://localhost:6333
# For Qdrant Cloud: https://your-cluster-id.region.aws.cloud.qdrant.io:6333
QDRANT_URL=https://740e442b-1289-489d-86da-dd4786839615.us-west-2-0.aws.cloud.qdrant.io:6333
QDRANT_API_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2Nlc3MiOiJtIn0.GzaoBx61S0KgEmQKqSfb8fvY8g3Yhry_FH5U7Mpzy2Q
QDRANT_TIMEOUT=30

# Redis (OPTIONAL - Not required for MVP)
# Uncomment if you want to add caching layer for performance optimization
# REDIS_URL=redis://localhost:6379
# REDIS_DB=0
# REDIS_MAX_CONNECTIONS=50
# ENABLE_REDIS_CACHE=false

# OpenAI API
OPENAI_API_KEY=sk-proj-your-key-here
OPENAI_LLM_MODEL=gpt-4o-mini
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_MAX_RETRIES=3
OPENAI_TIMEOUT=60

# RAG Configuration
CHUNK_SIZE=512
CHUNK_OVERLAP=0.2
MAX_CHUNKS_PER_QUERY=10
CONFIDENCE_THRESHOLD=0.7
ENABLE_RERANKING=false

# Guardrails
MAX_QUERY_LENGTH=1000
ENABLE_PII_DETECTION=true
ENABLE_PROMPT_INJECTION_DETECTION=true

# Caching (OPTIONAL - Redis not required for MVP)
CACHE_TTL_SECONDS=3600
ENABLE_SEMANTIC_CACHE=false

# Monitoring
PROMETHEUS_PORT=9090
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831
ENABLE_TRACING=true

# Collections
DEFAULT_COLLECTION=olist_reviews
VECTOR_DIMENSION=1536

# Worker Configuration
EMBEDDING_BATCH_SIZE=100
EMBEDDING_CONCURRENCY=5
QUERY_CONCURRENCY=10
INGEST_CONCURRENCY=3
